"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[2087],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(a),u=r,h=m["".concat(s,".").concat(u)]||m[u]||d[u]||i;return a?n.createElement(h,o(o({ref:t},c),{},{components:a})):n.createElement(h,o({ref:t},c))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},8003:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const i={},o=void 0,l={unversionedId:"IPs/uart",id:"IPs/uart",title:"uart",description:"In that section we are going to briefly explain how the UART IP works and how to use it in our project. For complete information about the UART IP and how its implemented, please refer to the UART Tile Project documentation.",source:"@site/docs/IPs/uart.md",sourceDirName:"IPs",slug:"/IPs/uart",permalink:"/fpga_mafia_wiki/docs/IPs/uart",draft:!1,editUrl:"https://github.com/FPGA-MAFIA/fpga_mafia_wiki/tree/main/docs/IPs/uart.md",tags:[],version:"current",frontMatter:{},sidebar:"IPs",previous:{title:"vga",permalink:"/fpga_mafia_wiki/docs/IPs/vga"},next:{title:"ps2_keyboard",permalink:"/fpga_mafia_wiki/docs/IPs/ps2_keyboard"}},s={},p=[{value:"How to use the UART IP in our project",id:"how-to-use-the-uart-ip-in-our-project",level:2},{value:"UART interface",id:"uart-interface",level:3},{value:"UART cable",id:"uart-cable",level:3}],c={toc:p},m="wrapper";function d(e){let{components:t,...i}=e;return(0,r.kt)(m,(0,n.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"In that section we are going to briefly explain how the UART IP works and how to use it in our project. For complete information about the UART IP and how its implemented, please refer to the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/amichai-bd/riscv-multi-core-lotr/blob/master/doc/UART_IO_doc/Uart%20Tile%20final%201p0.pdf"},"UART Tile Project")," documentation. "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"UART, or Universal Asynchronous Receiver-Transmitter, is a communication protocol commonly used to transmit and receive data between electronic devices. It enables the serial transmission of data, allowing devices to communicate over a pair of wires. UART operates asynchronously, meaning there is no separate clock signal; instead, both the transmitting and receiving devices agree on a specific baud rate to synchronize their communication. This makes UART a flexible and widely adopted standard for serial communication in various applications, such as connecting devices like microcontrollers, sensors, and other peripherals.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"We use UART to communicate with the FPGA. It helps us read data from the FPGA, like what's in its registers, debugging and more. We can also write data to the cores placed on the FPGA, such as initializing instruction and data memory. The write ability allows us to load programs to the FPGA and run them without creating ",(0,r.kt)("inlineCode",{parentName:"p"},"*.mif")," files that represents instruction and data memory. Such process allows us to compile the design only once and then load different programs to the FPGA without the need to recompile the design."))),(0,r.kt)("h2",{id:"how-to-use-the-uart-ip-in-our-project"},"How to use the UART IP in our project"),(0,r.kt)("h3",{id:"uart-interface"},"UART interface"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"We communicate with UART using software interface. The interface is just a piece of code running on a Host device. The interface on one side interacts with a user by a friendly Py-Terminal and communicates with the Device via USB serial transfers.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"To run the interface please install the following packages:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"pip install serial\n")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"pip install pySerial\n")),(0,r.kt)("p",{parentName:"li"},"note: if you have any problems installing the packages using ",(0,r.kt)("inlineCode",{parentName:"p"},"gitBash")," then you can install them in ",(0,r.kt)("inlineCode",{parentName:"p"},"windows power shell"),". To open ",(0,r.kt)("inlineCode",{parentName:"p"},"windows power shell")," just type ",(0,r.kt)("inlineCode",{parentName:"p"},"windows power shell")," in the search bar and click on the first result. Then you can install the packages using the same commands as above.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"To run the interface, go to ",(0,r.kt)("inlineCode",{parentName:"p"},"fpga_mafia\\lotr_orig\\pyterminal\\src")," folder and type ",(0,r.kt)("inlineCode",{parentName:"p"},"python ./uart_term.py"),". This will open the terminal.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Choose the communication port. In our example we choose COM3 (you may have other available ports instead ).\n",(0,r.kt)("img",{alt:"uart_sw_interface.png",src:a(905).Z,width:"449",height:"220"}),"   "))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"important"),":to make the following command works you should have the FPGA connected to the computer and to the UART. Since it may not be the case than now you may focus only on the interface options instead of the implementation. We will explain it on a real example ",(0,r.kt)("a",{parentName:"p",href:"/fpga_mafia_wiki/docs/fpga/snake_game/connect_uart"},"here"),(0,r.kt)("br",{parentName:"p"}),"\n","-W write chosen single word to the device at a specific address.",(0,r.kt)("br",{parentName:"p"}),"\n","-R read a single word from the device at a specific address.",(0,r.kt)("br",{parentName:"p"}),"\n","-WB write a burst of words from a file on the host to the device starting at a specific address.",(0,r.kt)("br",{parentName:"p"}),"\n","-RB read a burst of words from the device starting at a specific address to a file on the host. You can choose the transfer size.",(0,r.kt)("br",{parentName:"p"}),"\n","-Q quit the terminal.   "),(0,r.kt)("h3",{id:"uart-cable"},"UART cable"),(0,r.kt)("p",null,"The connection to the FPGA board is done using a USB to TTL converter ",(0,r.kt)("a",{parentName:"p",href:"https://www.amazon.com/Serial-Adapter-Signal-Prolific-Windows/dp/B08BLKBK1K?th=1"},"cable"),". One side is connected to the computer and the other side is connected to the FPGA GPIO pins."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"usb_ttl_converter.png",src:a(441).Z,width:"561",height:"252"}),"\n",(0,r.kt)("img",{alt:"fpga_gpio.png",src:a(5627).Z,width:"627",height:"360"})),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Source"),(0,r.kt)("th",{parentName:"tr",align:null},"Destination"),(0,r.kt)("th",{parentName:"tr",align:null},"Comment"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"White(TXD)"),(0,r.kt)("td",{parentName:"tr",align:null},"PIN_AA15"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Green(RXD)"),(0,r.kt)("td",{parentName:"tr",align:null},"PIN_AA14"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Black(GND)"),(0,r.kt)("td",{parentName:"tr",align:null},"GND"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Red(VCC)"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"floating")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"uart_gpio_connection.png",src:a(154).Z,width:"498",height:"656"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"note"),": In case you have USB to TTL converter with 6 pins than use the following table:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"GND is black"),(0,r.kt)("li",{parentName:"ul"},"VCC is red"),(0,r.kt)("li",{parentName:"ul"},"TXD is orange"),(0,r.kt)("li",{parentName:"ul"},"RXD is yellow")),(0,r.kt)("p",null,"Generally speaking we finished the explanations we need to use the UART. We know that the explanations here are very general. Do not worry if you do not understand everything here. We will explain it in details in real example. Just remember what each option means in the sw interface and how to connect the UART cable to the FPGA."))}d.isMDXComponent=!0},5627:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/fpga_gpio-0e2c87d9cc4b72d4ba6234421127f980.png"},154:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/uart_gpio_connection-bf8e243a5d362a914590b7d8579cbb6b.png"},905:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/uart_sw_interface-8c6495e99840c2e25b0a12db27d0d447.png"},441:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/usb_ttl_converter-a1d44e03b123317544122840d9ce0c3d.png"}}]);