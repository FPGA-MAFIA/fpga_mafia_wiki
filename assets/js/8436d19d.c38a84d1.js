"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[265],{3905:(t,e,r)=>{r.d(e,{Zo:()=>c,kt:()=>h});var a=r(7294);function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e){if(null==t)return{};var r,a,n=function(t,e){if(null==t)return{};var r,a,n={},i=Object.keys(t);for(a=0;a<i.length;a++)r=i[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var s=a.createContext({}),d=function(t){var e=a.useContext(s),r=e;return t&&(r="function"==typeof t?t(e):o(o({},e),t)),r},c=function(t){var e=d(t.components);return a.createElement(s.Provider,{value:e},t.children)},u="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},p=a.forwardRef((function(t,e){var r=t.components,n=t.mdxType,i=t.originalType,s=t.parentName,c=l(t,["components","mdxType","originalType","parentName"]),u=d(r),p=n,h=u["".concat(s,".").concat(p)]||u[p]||m[p]||i;return r?a.createElement(h,o(o({ref:e},c),{},{components:r})):a.createElement(h,o({ref:e},c))}));function h(t,e){var r=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var i=r.length,o=new Array(i);o[0]=p;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[u]="string"==typeof t?t:n,o[1]=l;for(var d=2;d<i;d++)o[d]=r[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},7914:(t,e,r)=>{r.r(e),r.d(e,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=r(7462),n=(r(7294),r(3905));const i={},o="Next_tile_fifo_arb MAS",l={unversionedId:"fabric/MAS_router/mas_next_tile_fifo_arb",id:"fabric/MAS_router/mas_next_tile_fifo_arb",title:"Next_tile_fifo_arb MAS",description:"Brief Description:",source:"@site/docs/fabric/MAS_router/mas_next_tile_fifo_arb.md",sourceDirName:"fabric/MAS_router",slug:"/fabric/MAS_router/mas_next_tile_fifo_arb",permalink:"/fpga_mafia_wiki/docs/fabric/MAS_router/mas_next_tile_fifo_arb",draft:!1,editUrl:"https://github.com/FPGA-MAFIA/fpga_mafia_wiki/tree/main/docs/fabric/MAS_router/mas_next_tile_fifo_arb.md",tags:[],version:"current",frontMatter:{},sidebar:"Fabric",previous:{title:"Router MAS",permalink:"/fpga_mafia_wiki/docs/fabric/MAS_router/"},next:{title:"FIFO_arb MAS",permalink:"/fpga_mafia_wiki/docs/fabric/MAS_router/mas_fifo_arb"}},s={},d=[{value:"3. Functional Description",id:"3-functional-description",level:3},{value:"Operational Modes:",id:"operational-modes",level:4},{value:"Future Improvements:",id:"future-improvements",level:4},{value:"1. Determining Next Tile ID:",id:"1-determining-next-tile-id",level:3},{value:"2. Setting Terms for Calculating Next Cardinal:",id:"2-setting-terms-for-calculating-next-cardinal",level:3},{value:"3. Translating Back to Cardinal Terms:",id:"3-translating-back-to-cardinal-terms",level:3},{value:"4. Setting the Next Cardinal According to Algorithm:",id:"4-setting-the-next-cardinal-according-to-algorithm",level:3}],c={toc:d},u="wrapper";function m(t){let{components:e,...i}=t;return(0,n.kt)(u,(0,a.Z)({},c,i,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"next_tile_fifo_arb-mas"},"Next_tile_fifo_arb MAS"),(0,n.kt)("h1",{id:"1-overview"},"1. Overview"),(0,n.kt)("p",null,"Brief Description:\nThis document outlines the micro-architecture of the next_tile_fifo_arb module, which is designed to determine the cardinal direction for forwarding requests from the current tile to the next tile in a tile-based system. It takes into account the current tile's ID and the target address to make this decision."),(0,n.kt)("p",null,"Purpose and Functionality:\nThe next_tile_fifo_arb module is responsible for selecting the cardinal direction (NORTH, EAST, SOUTH, WEST, or LOCAL) for forwarding requests based on the current tile's ID, the target address, and the availability of requests from different directions."),(0,n.kt)("h1",{id:"2-interfaces"},"2. Interfaces"),(0,n.kt)("p",null,"Signal Descriptions:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Signal Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Direction"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"clk"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Clock signal.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"local_tile_id"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"The ID of the current tile.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_north_req_valid"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Signal indicating the validity of requests from the North direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_east_req_valid"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Signal indicating the validity of requests from the East direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_south_req_valid"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Signal indicating the validity of requests from the South direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_west_req_valid"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Signal indicating the validity of requests from the West direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_local_req_valid"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Signal indicating the validity of requests from the Local direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_north_req_address ","[31:24]"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Address information associated with requests from the North direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_east_req_address ","[31:24]"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Address information associated with requests from the East direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_south_req_address ","[31:24]"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Address information associated with requests from the South direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_west_req_address ","[31:24]"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Address information associated with requests from the West direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_local_req_address ","[31:24]"),(0,n.kt)("td",{parentName:"tr",align:null},"Input"),(0,n.kt)("td",{parentName:"tr",align:null},"Address information associated with requests from the Local direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_north_next_tile_fifo_arb_card"),(0,n.kt)("td",{parentName:"tr",align:null},"Output"),(0,n.kt)("td",{parentName:"tr",align:null},"The selected cardinal direction for forwarding requests from the North direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_south_next_tile_fifo_arb_card"),(0,n.kt)("td",{parentName:"tr",align:null},"Output"),(0,n.kt)("td",{parentName:"tr",align:null},"The selected cardinal direction for forwarding requests from the South direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_east_next_tile_fifo_arb_card"),(0,n.kt)("td",{parentName:"tr",align:null},"Output"),(0,n.kt)("td",{parentName:"tr",align:null},"The selected cardinal direction for forwarding requests from the East direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_west_next_tile_fifo_arb_card"),(0,n.kt)("td",{parentName:"tr",align:null},"Output"),(0,n.kt)("td",{parentName:"tr",align:null},"The selected cardinal direction for forwarding requests from the West direction.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"in_local_next_tile_fifo_arb_card"),(0,n.kt)("td",{parentName:"tr",align:null},"Output"),(0,n.kt)("td",{parentName:"tr",align:null},"The selected cardinal direction for forwarding requests from the Local direction.")))),(0,n.kt)("h3",{id:"3-functional-description"},"3. Functional Description"),(0,n.kt)("h4",{id:"operational-modes"},"Operational Modes:"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"next_tile_fifo_arb"),' module operates using an "x,y" approach in its routing algorithm, determining the next cardinal direction for forwarding requests based on the current tile\'s ID and the target address. Here\'s how the "x,y" approach typically works:'),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Current Tile's ID (x, y):")," Each tile in the system has a unique identifier represented as (x, y), where 'x' represents the column number and 'y' represents the row number.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Target Address (x_target, y_target):")," When a request arrives at a tile, it contains the target address it needs to reach, represented as (x_target, y_target).")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Calculating Next Cardinal Direction:")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Priority:")," The \"x,y\" approach prioritizes reaching the 'x' coordinate (column) before the 'y' coordinate (row)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Horizontal Movement (x-axis):")," If the current tile's 'x' coordinate is not equal to the target's 'x' coordinate, the routing algorithm selects the cardinal direction (EAST or WEST) that moves the request closer to the target's 'x' coordinate."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Vertical Movement (y-axis):")," Once the request reaches the target's 'x' coordinate, the routing algorithm then selects the cardinal direction (NORTH or SOUTH) that moves the request closer to the target's 'y' coordinate."))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Forwarding the Request:")," Based on the calculations, the routing algorithm determines the next cardinal direction (NORTH, SOUTH, EAST, or WEST) and forwards the request to the neighboring tile in that direction.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Reaching the Target:")," This process continues until the request reaches the tile with the target address (x_target, y_target)."))),(0,n.kt)("h4",{id:"future-improvements"},"Future Improvements:"),(0,n.kt)("p",null,"While the current routing algorithm uses the \"x,y\" approach, there is potential for future enhancements to the routing scheme. One possibility is to explore a different routing approach, such as a \"y,x\" scheme, where requests would reach the 'y' direction before the 'x' direction. Implementing such changes would require modifying the algorithm to prioritize reaching the row before the column, potentially improving the efficiency and performance of request forwarding in specific scenarios."),(0,n.kt)("p",null,"Another possible improvement to the routing scheme could be the use of adaptive routing. Adaptive routing algorithms dynamically select the path for each packet based on the network conditions and traffic load at the time of routing. This approach can potentially optimize the routing path to avoid congested or faulty areas in the network, leading to better overall performance and reliability. Implementing adaptive routing would involve monitoring network conditions and updating the routing decisions accordingly, which could be achieved through additional logic and decision-making mechanisms in the routing algorithm."),(0,n.kt)("p",null,"Waveform example:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"next_tile_fifo_arb",src:r(17).Z,width:"1600",height:"677"})),(0,n.kt)("p",null,"In this waveform, we observe the routing process for a request originating from tile ","[2,2]",", as indicated by the 'local_tile_id' signal, with a destination of ","[1,3]",", as shown by the 'req_address' signal. According to our 'x,y' routing algorithm, the request first moves along the Y-axis to align with the target's Y-coordinate. In this case, the request travels south from tile ","[2,2]"," to ","[2,3]",", completing the Y-axis alignment. Once the Y-coordinate is matched, the algorithm then shifts its focus to the X-axis. The request subsequently moves west from ","[2,3]"," to ","[1,3]",", reaching its final destination. This sequential approach of addressing the Y-coordinate before the X-coordinate is a characteristic feature of the 'x,y' routing method."),(0,n.kt)("h1",{id:"4-testing-and-verification"},"4. Testing and Verification"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"In the tests we had to make sure that we get to a sevearl coverage points to ensure the reliability of this module.")),(0,n.kt)("h3",{id:"1-determining-next-tile-id"},"1. Determining Next Tile ID:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The module calculates the next tile ID based on the current tile ID and the specified cardinal direction (NORTH, SOUTH, EAST, WEST, or LOCAL)."),(0,n.kt)("li",{parentName:"ul"},"Coverage point: Ensure that each cardinal direction is covered and correctly assigns the next tile ID based on the current tile ID.")),(0,n.kt)("h3",{id:"2-setting-terms-for-calculating-next-cardinal"},"2. Setting Terms for Calculating Next Cardinal:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Terms are set to calculate the next cardinal direction based on the request addresses and request valid signals."),(0,n.kt)("li",{parentName:"ul"},"Coverage point: Validate that the terms are correctly set for each direction and that the calculation considers valid requests.")),(0,n.kt)("h3",{id:"3-translating-back-to-cardinal-terms"},"3. Translating Back to Cardinal Terms:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The module translates the terms used for calculating the next cardinal direction back to the cardinal terms required for the output."),(0,n.kt)("li",{parentName:"ul"},"Coverage point: Verify that the translation accurately maps terms to the corresponding cardinal directions.")),(0,n.kt)("h3",{id:"4-setting-the-next-cardinal-according-to-algorithm"},"4. Setting the Next Cardinal According to Algorithm:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The module determines the next cardinal direction according to the specified algorithm. It prioritizes reaching the row (north or south) before reaching the column (east or west)."),(0,n.kt)("li",{parentName:"ul"},"Coverage point: Ensure that the algorithm correctly sets the next cardinal direction based on the conditions specified, including priority for row or column traversal.")))}m.isMDXComponent=!0},17:(t,e,r)=>{r.d(e,{Z:()=>a});const a=r.p+"assets/images/next_tile_fifo_arb_in_tile_22_and_BP-34c1046f281217bfe629f703e8c7a178.jpg"}}]);