<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-TFM/projectTool/Walkthrough" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Walkthrough - tool-chain tutorial | FPGA Multi-Agent FabrIc Architecture </title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://fpga-mafia.github.io /fpga_mafia_wiki/docs/TFM/projectTool/Walkthrough"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Walkthrough - tool-chain tutorial | FPGA Multi-Agent FabrIc Architecture "><meta data-rh="true" name="description" content="Download a text editor"><meta data-rh="true" property="og:description" content="Download a text editor"><link data-rh="true" rel="icon" href="/fpga_mafia_wiki/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://fpga-mafia.github.io /fpga_mafia_wiki/docs/TFM/projectTool/Walkthrough"><link data-rh="true" rel="alternate" href="https://fpga-mafia.github.io /fpga_mafia_wiki/docs/TFM/projectTool/Walkthrough" hreflang="en"><link data-rh="true" rel="alternate" href="https://fpga-mafia.github.io /fpga_mafia_wiki/docs/TFM/projectTool/Walkthrough" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/fpga_mafia_wiki/blog/rss.xml" title="FPGA Multi-Agent FabrIc Architecture  RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fpga_mafia_wiki/blog/atom.xml" title="FPGA Multi-Agent FabrIc Architecture  Atom Feed"><link rel="stylesheet" href="/fpga_mafia_wiki/assets/css/styles.7948e28b.css">
<link rel="preload" href="/fpga_mafia_wiki/assets/js/runtime~main.1492fb77.js" as="script">
<link rel="preload" href="/fpga_mafia_wiki/assets/js/main.c1821f06.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fpga_mafia_wiki/"><div class="navbar__logo"><img src="/fpga_mafia_wiki/img/BIU.png" alt="BIU logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/fpga_mafia_wiki/img/BIU.png" alt="BIU logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">FPGA MAFIA</b></a><a class="navbar__item navbar__link" href="/fpga_mafia_wiki/docs/fabric/intro">Fabric</a><a class="navbar__item navbar__link" href="/fpga_mafia_wiki/docs/rvc/intro">RISCV_Cores</a><a class="navbar__item navbar__link" href="/fpga_mafia_wiki/docs/cache/cache_intro">Cache</a><a class="navbar__item navbar__link" href="/fpga_mafia_wiki/docs/IPs/IPs_intro">IPs</a><a class="navbar__item navbar__link" href="/fpga_mafia_wiki/docs/fpga/fpga_intro">FPGA</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/fpga_mafia_wiki/docs/TFM/welcome">TFM</a><a class="navbar__item navbar__link" href="/fpga_mafia_wiki/docs/build_script/intro">MAFIA_Build</a><a href="https://github.com/amichai-bd/fpga_mafia" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub - Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/amichai-bd/fpga_mafia_wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub - Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Walkthrough - tool-chain tutorial</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="download-a-text-editor">Download a text editor<a href="#download-a-text-editor" class="hash-link" aria-label="Direct link to Download a text editor" title="Direct link to Download a text editor">​</a></h2><ul><li>vscode: <a href="https://code.visualstudio.com/download" target="_blank" rel="noopener noreferrer">https://code.visualstudio.com/download</a>  </li><li>add useful extensions (python, SystemVerilog, venus Terminal, Copilot, Diff, Spell Checker) </li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="download-python">Download Python<a href="#download-python" class="hash-link" aria-label="Direct link to Download Python" title="Direct link to Download Python">​</a></h2><ul><li><a href="https://www.python.org/downloads/" target="_blank" rel="noopener noreferrer">https://www.python.org/downloads/</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="download-gitbash-for-windows">Download gitbash for Windows<a href="#download-gitbash-for-windows" class="hash-link" aria-label="Direct link to Download gitbash for Windows" title="Direct link to Download gitbash for Windows">​</a></h2><p>Git Bash is a command-line tool designed for Windows users, offering a Unix-like environment. It seamlessly integrates the Git version control system with a Bash shell, providing developers with a powerful and familiar command-line interface.</p><ul><li><a href="https://gitforwindows.org/" target="_blank" rel="noopener noreferrer">https://gitforwindows.org/</a>  </li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-gitbash-in-the-vscode">Set gitbash in the vscode<a href="#set-gitbash-in-the-vscode" class="hash-link" aria-label="Direct link to Set gitbash in the vscode" title="Direct link to Set gitbash in the vscode">​</a></h2><ul><li>you may configure the ~/.bashrc &amp; ~/.aliases with your preferences. To accomplish this, you may need to create a .bashrc file. Do that by typing the following commands</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">touch ~/.bashrc # creating .bashrc file</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">code ~/.bashrc # open file in vs code for editing</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>You can also explore an alternative option that doesn&#x27;t require editing the ~/.bashrc file. In Visual Studio Code, navigate to &quot;Terminal -&gt; New Terminal,&quot; and once the terminal is open, click on the &quot;plus&quot; icon in the terminal window and choose the &quot;Git Bash&quot; option.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="download-modelsim----a-system-verilog-compiler--simulator-lite-free-version">Download Modelsim  - a system Verilog compiler &amp; simulator (lite free version)<a href="#download-modelsim----a-system-verilog-compiler--simulator-lite-free-version" class="hash-link" aria-label="Direct link to Download Modelsim  - a system Verilog compiler &amp; simulator (lite free version)" title="Direct link to Download Modelsim  - a system Verilog compiler &amp; simulator (lite free version)">​</a></h2><ul><li><a href="https://www.intel.com/content/www/us/en/software-kit/660907/intel-quartus-prime-lite-edition-design-software-version-20-1-1-for-windows.html" target="_blank" rel="noopener noreferrer">https://www.intel.com/content/www/us/en/software-kit/660907/intel-quartus-prime-lite-edition-design-software-version-20-1-1-for-windows.html</a><br>Download indevidual files: modelsim, quartus, &quot;Intel MAX 10 Device Support&quot;.  <ul><li>Note: after all three programs are downloaded, run the Quartus installation, which will automatically install Modelsim &amp; MAX10.  </li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="download-the-riscv-toolchain">Download the RISCV ToolChain:<a href="#download-the-riscv-toolchain" class="hash-link" aria-label="Direct link to Download the RISCV ToolChain:" title="Direct link to Download the RISCV ToolChain:">​</a></h2><p>In essence, the RISC-V GCC toolchain comprises a suite of software programs designed to transform a C source file into machine code suitable for loading and execution on RISC-V CPUs. This process involves several stages that are not described here. </p><ul><li><a href="https://github.com/xpack-dev-tools/riscv-none-embed-gcc-xpack/releases/" target="_blank" rel="noopener noreferrer">https://github.com/xpack-dev-tools/riscv-none-embed-gcc-xpack/releases/</a> -&gt; File name: &quot;xpack-riscv-none-embed-gcc-10.2.0-1.2-win32-x64.zip&quot;). If newer versions are available, you can also download them and then extract into the correct location as shown in the next section.</li><li><a href="https://xpack.github.io/riscv-none-embed-gcc/install/" target="_blank" rel="noopener noreferrer">https://xpack.github.io/riscv-none-embed-gcc/install/</a>  -&gt; follow &quot;Manual install&quot; (Only extract in the correct location)  </li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gitbash-shell---adding-to-path-and-test-installation">Gitbash shell - adding to PATH and test installation:<a href="#gitbash-shell---adding-to-path-and-test-installation" class="hash-link" aria-label="Direct link to Gitbash shell - adding to PATH and test installation:" title="Direct link to Gitbash shell - adding to PATH and test installation:">​</a></h2><p>Add to the ~/.bashrc the PATH of the gcc compiler
Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">export PATH=$PATH:/c/Users/abendavid/AppData/Roaming/xPacks/xpack-riscv-none-embed-gcc-10.2.0-1.2/bin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To confirm the successful installation, please enter the following command: &quot;riscv-none-embed-gcc --version&quot;. If you receive the version information, everything is set up correctly. If not, please revisit the previous steps carefully. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-the-riscv-toolchain">Test the RISCV toolchain:<a href="#test-the-riscv-toolchain" class="hash-link" aria-label="Direct link to Test the RISCV toolchain:" title="Direct link to Test the RISCV toolchain:">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-cloning-the-fpga_mafia-environment">1. Cloning the fpga_mafia environment<a href="#1-cloning-the-fpga_mafia-environment" class="hash-link" aria-label="Direct link to 1. Cloning the fpga_mafia environment" title="Direct link to 1. Cloning the fpga_mafia environment">​</a></h3><ul><li>Create a folder to host your environment and clone fpga_mafia</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd ~    # you can choose any other reasonable location</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mkdir workspace </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd workspace</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://github.com/amichai-bd/fpga_mafia.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-create-a-simple-c-program---alivec">2. Create a simple c program. - &quot;alive.c&quot;<a href="#2-create-a-simple-c-program---alivec" class="hash-link" aria-label="Direct link to 2. Create a simple c program. - &quot;alive.c&quot;" title="Direct link to 2. Create a simple c program. - &quot;alive.c&quot;">​</a></h3><ul><li>Open fpga_mafia on vs code </li><li>Navigate to alive.c file located at &quot;verif/mini_core/tests/alive.c&quot; and write a basic program like suggested bellow (if there is any content, don&#x27;t hesitate to delete it) </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">int main()  {  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    int x,y,z;  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    x = 2;  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    y = 3;  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    z = x+y;  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}  // main()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Type the following command that creates an assembly file &quot;example.s&quot; from &quot;alive.c&quot;</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">riscv-none-embed-gcc.exe -S -ffreestanding -march=rv32i ../../../verif/mini_core/tests/alive.c -o example.s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-create-a-simple-linker---linkcommonld">3. Create a simple linker - &quot;link.common.ld&quot;<a href="#3-create-a-simple-linker---linkcommonld" class="hash-link" aria-label="Direct link to 3. Create a simple linker - &quot;link.common.ld&quot;" title="Direct link to 3. Create a simple linker - &quot;link.common.ld&quot;">​</a></h3><p>In general terms, the linker&#x27;s role encompasses defining memory sections, such as the locations of instructions, data, the stack, heap, and more. For example, in our linker the instruction memory starts at 0x00000000 and its length is: 0x4000, and data memory starts exactly after it. </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    MEMORY {  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        i_mem          : ORIGIN = 0x00000000 , LENGTH = 0x4000  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        global_data    : ORIGIN = 0x00004000 , LENGTH = 0x4000  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    SECTIONS {  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        .text : {  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        . = ALIGN(4);  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        *(.start);  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        *(.text);  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        . = ORIGIN(i_mem) + LENGTH(i_mem) - 1;  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        BYTE(0);  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }  &gt; i_mem  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        .data : {  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        . = ALIGN(4);  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        *(.rodata);  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        *(.sdata);  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        *(.sbss);  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        } &gt; global_data  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        .bss : {} &gt; global_data  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-create-a-simple-crt0-file---crt0s">4. Create a simple crt0 file - &quot;crt0.S&quot;<a href="#4-create-a-simple-crt0-file---crt0s" class="hash-link" aria-label="Direct link to 4. Create a simple crt0 file - &quot;crt0.S&quot;" title="Direct link to 4. Create a simple crt0 file - &quot;crt0.S&quot;">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">_start:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  .global _start</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  .org 0x00</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  nop                       </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  nop                       </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  nop                       </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  nop                       </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  nop                       </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reset_handler:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv  x1, x0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv  x2, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv  x3, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv  x4, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv  x5, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv  x6, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv  x7, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv  x8, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv  x9, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x10, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x11, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x12, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x13, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x14, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x15, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x16, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x17, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x18, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x19, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x20, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x21, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x22, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x23, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x24, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x25, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x26, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x27, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x28, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x29, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x30, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mv x31, x1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /* stack initialization */</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  li   x2, 0x8000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  jal x1, main  //jump to main</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ebreak        //end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  .section .text</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-compile---link---assembler---machine-code">5. Compile -&gt; Link -&gt; assembler -&gt; machine code:<a href="#5-compile---link---assembler---machine-code" class="hash-link" aria-label="Direct link to 5. Compile -&gt; Link -&gt; assembler -&gt; machine code:" title="Direct link to 5. Compile -&gt; Link -&gt; assembler -&gt; machine code:">​</a></h3><ul><li>Create the following directory </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mkdir -p ./target/mini_core/tests/alive/gcc_files</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd ./target/mini_core/tests/alive/gcc_files</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Create assembly file named alive_rv32.c.s from alive.c source code</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> riscv-none-embed-gcc.exe -S -ffreestanding -march=rv32i -I ../../../../../app/defines ../../../../.././verif/mini_core/tests/alive.c -o alive_rv32i.c.s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Create an *.elf file
In that command we re-define the offset and length of instruction and data memory and combining it with crt0.s file to create alive_rv32i.elf   </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">riscv-none-embed-gcc.exe -O3 -march=rv32i -T ../../../../../app/link.common.ld -I ../../../../../app/defines -Wl,--defsym=I_MEM_OFFSET=0 -Wl,--defsym=I_MEM_LENGTH=65536 -Wl,--defsym=D_MEM_OFFSET=65536 -Wl,--defsym=D_MEM_LENGTH=61440 -nostartfiles -D__riscv__ -Wl,-Map=alive.map ../../../../../app/crt0.S alive_rv32i.c.s -o alive_rv32i.elf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Create &quot;visible&quot; *.elf file
In order to view alive_rv32i.elf file we do the following command. (Some of crt0.s lines caעןא n be seen in that file).</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">riscv-none-embed-objdump.exe -gd alive_rv32i.elf &gt; alive_rv32i_elf.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Generate the content for a SystemVerilog instruction memory.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">riscv-none-embed-objcopy.exe --srec-len 1 --output-target=verilog alive_rv32i.elf inst_mem.sv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>make sure you have created the files:</p><ul><li>crt0.S  </li><li>link.common.ld  </li><li>alive_rv32i.c.s  </li><li>alive_rv32i.elf  </li><li>alive_rv32i_elf.txt  </li><li>alive_inst_mem_rv32i.sv  </li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-riscv-toolchain-using-gui">Running RISCV toolchain using GUI<a href="#running-riscv-toolchain-using-gui" class="hash-link" aria-label="Direct link to Running RISCV toolchain using GUI" title="Direct link to Running RISCV toolchain using GUI">​</a></h3><p>Using the GUI, you can execute Section 5 in just a matter of seconds.</p><ul><li>Install the termcolor module</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip install termcolor</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Navigate to fpga_mafia folder and open the GUI by typing</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">python gui_build.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>DUT: choose mini_core.<br>
<!-- -->Mark -tests and than choose alive.c<br>
<!-- -->Mark -app.<br>
<!-- -->Apply Run Command.    </p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="modelsim---systemverilog-toolchain">MODELSIM - systemverilog toolchain<a href="#modelsim---systemverilog-toolchain" class="hash-link" aria-label="Direct link to MODELSIM - systemverilog toolchain" title="Direct link to MODELSIM - systemverilog toolchain">​</a></h2><ol><li><p>write a simple systemverilog module: <code>test.sv</code> </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">module test (</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    input  logic in_0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    input  logic in_1,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    output logic out</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">assign out = in_0 &amp; in_1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">endmodule</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>write a simple systemverilog test bench module: <code>test_tb.sv</code></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">module test_tb ();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">logic in_0;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">logic in_1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">logic  out;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">initial begin : assign_input</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    in_0 = 1&#x27;b0;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    in_1 = 1&#x27;b0; // 0&amp;0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#4 $display(&quot;out = in_0 &amp; in_1:\n    &gt; %b = %b &amp; %b&quot;,out ,in_0, in_1);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#4 in_1 = 1&#x27;b1; // 0&amp;1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#4 $display(&quot;out = in_0 &amp; in_1:\n    &gt; %b = %b &amp; %b&quot;,out ,in_0, in_1);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#4 in_0 = 1&#x27;b1; // 1&amp;1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#4 $display(&quot;out = in_0 &amp; in_1:\n    &gt; %b = %b &amp; %b&quot;,out ,in_0, in_1);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#4 $finish;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end// initial</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">test test_and (</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .in_0(in_0),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .in_1(in_1),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .out(out)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">endmodule // test_tb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>List the files &amp; include dirs for model: <code>test_list.f</code></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">test.sv</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">test_tb.sv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Make directory called <code>&quot;work&quot;</code></p><blockquote><p><code>mkdir work</code>  </p><ul><li>Please note that The presence of Hebrew letters in the pass could lead to errors. </li></ul></blockquote></li><li><p>Compile systemverilog from <code>&quot;dotf&quot;</code> file list.</p><blockquote><p><code>vlog.exe -f test_list.f</code></p></blockquote></li><li><p>Elaboration &amp; simulation  </p><ul><li>Simulate the Design without gui:  <blockquote><p><code>vsim.exe work.test_tb -c -do &#x27;run -all&#x27;</code>  </p></blockquote></li><li>Simulate the Design with gui <blockquote><p><code>vsim.exe -gui work.test_tb</code>   </p></blockquote></li></ul></li><li><p>Make sure you see the wave form of your code when running with <code>-gui</code>:
<img loading="lazy" src="https://user-images.githubusercontent.com/81047407/137597659-b4465e6f-3d8d-4fd6-867a-c63df68b89e7.png" alt="image" class="img_ev3q"></p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-use-gui-window">How to use GUI window<a href="#how-to-use-gui-window" class="hash-link" aria-label="Direct link to How to use GUI window" title="Direct link to How to use GUI window">​</a></h3><p>At gui window please choose the following</p><blockquote><p>DUT: choose mini_core.<br>
<!-- -->Mark -test and than choose alive.c<br>
<!-- -->Mark -app, -hw, -sim<br>
<!-- -->Apply Run Command<br>
<!-- -->For model sim gui add -gui </p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="now-you-have-everything-you-need-to-start-designing-a-riscv-core-in-systemverilog">Now you have everything you need to start designing a RISCV core in systemverilog!!<a href="#now-you-have-everything-you-need-to-start-designing-a-riscv-core-in-systemverilog" class="hash-link" aria-label="Direct link to Now you have everything you need to start designing a RISCV core in systemverilog!!" title="Direct link to Now you have everything you need to start designing a RISCV core in systemverilog!!">​</a></h2><p>Good place to start:
A single cycle RV32I core:
<img loading="lazy" src="https://user-images.githubusercontent.com/81047407/170105460-3ea25fe6-b71a-451c-a75f-c8f6696e6713.png" alt="image" class="img_ev3q">Good luck!<br>
<!-- -->Please contact me with any issue. <a href="https://github.com/amichai-bd" target="_blank" rel="noopener noreferrer"><code>amichai-bd</code></a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/FPGA-MAFIA/fpga_mafia_wiki/tree/main/docs/TFM/projectTool/Walkthrough.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#download-a-text-editor" class="table-of-contents__link toc-highlight">Download a text editor</a></li><li><a href="#download-python" class="table-of-contents__link toc-highlight">Download Python</a></li><li><a href="#download-gitbash-for-windows" class="table-of-contents__link toc-highlight">Download gitbash for Windows</a></li><li><a href="#set-gitbash-in-the-vscode" class="table-of-contents__link toc-highlight">Set gitbash in the vscode</a></li><li><a href="#download-modelsim----a-system-verilog-compiler--simulator-lite-free-version" class="table-of-contents__link toc-highlight">Download Modelsim  - a system Verilog compiler &amp; simulator (lite free version)</a></li><li><a href="#download-the-riscv-toolchain" class="table-of-contents__link toc-highlight">Download the RISCV ToolChain:</a></li><li><a href="#gitbash-shell---adding-to-path-and-test-installation" class="table-of-contents__link toc-highlight">Gitbash shell - adding to PATH and test installation:</a></li><li><a href="#test-the-riscv-toolchain" class="table-of-contents__link toc-highlight">Test the RISCV toolchain:</a><ul><li><a href="#1-cloning-the-fpga_mafia-environment" class="table-of-contents__link toc-highlight">1. Cloning the fpga_mafia environment</a></li><li><a href="#2-create-a-simple-c-program---alivec" class="table-of-contents__link toc-highlight">2. Create a simple c program. - &quot;alive.c&quot;</a></li><li><a href="#3-create-a-simple-linker---linkcommonld" class="table-of-contents__link toc-highlight">3. Create a simple linker - &quot;link.common.ld&quot;</a></li><li><a href="#4-create-a-simple-crt0-file---crt0s" class="table-of-contents__link toc-highlight">4. Create a simple crt0 file - &quot;crt0.S&quot;</a></li><li><a href="#5-compile---link---assembler---machine-code" class="table-of-contents__link toc-highlight">5. Compile -&gt; Link -&gt; assembler -&gt; machine code:</a></li><li><a href="#running-riscv-toolchain-using-gui" class="table-of-contents__link toc-highlight">Running RISCV toolchain using GUI</a></li></ul></li><li><a href="#modelsim---systemverilog-toolchain" class="table-of-contents__link toc-highlight">MODELSIM - systemverilog toolchain</a><ul><li><a href="#how-to-use-gui-window" class="table-of-contents__link toc-highlight">How to use GUI window</a></li></ul></li><li><a href="#now-you-have-everything-you-need-to-start-designing-a-riscv-core-in-systemverilog" class="table-of-contents__link toc-highlight">Now you have everything you need to start designing a RISCV core in systemverilog!!</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contributors</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/amichai-ben-david" target="_blank" rel="noopener noreferrer" class="footer__link-item">Amichai Ben-David</a></li><li class="footer__item"><a href="https://www.linkedin.com/in/noam-sabban" target="_blank" rel="noopener noreferrer" class="footer__link-item">Noam Sabban</a></li><li class="footer__item"><a href="https://github.com/ShmuelSfez" target="_blank" rel="noopener noreferrer" class="footer__link-item">Shmuel Sfez</a></li><li class="footer__item"><a href="https://github.com/yeonatanPerelman" target="_blank" rel="noopener noreferrer" class="footer__link-item">Yeonatan Perelman</a></li><li class="footer__item"><a href="https://github.com/danielk532" target="_blank" rel="noopener noreferrer" class="footer__link-item">Daniel Kaufman</a></li><li class="footer__item"><a href="https://www.linkedin.com/in/roman-gilgor-a5326532/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roman Gilgor</a></li></ul></div><div class="col footer__col"><div class="footer__title">RTL Units</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/fabric/intro">Fabric</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/fabric/intro">- Tile</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/fabric/intro">- Router</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/rvc/intro">RISCV Cores</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/cache/cache_intro">Memory Subsystem</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/cache/cache_intro">- Instruction Cache</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/cache/cache_intro">- Data Cache</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/cache/cache_intro">- Memory Controller</a></li></ul></div><div class="col footer__col"><div class="footer__title">TFM</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/TFM/projectTool/intro">Project Tool</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/TFM/projectTool/git_and_github">- Git &amp; GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/TFM/projectTool/GccRiscV">- RISCV GCC</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/TFM/projectTool/ModelSim">- Modelsim</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/TFM/projectTool/ModelSim">- Quartus</a></li><li class="footer__item"><a class="footer__link-item" href="/fpga_mafia_wiki/docs/TFM/verilog/intro">System-Verilog</a></li></ul></div><div class="col footer__col"><div class="footer__title">GitHub - links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/amichai-bd/fpga_mafia" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub - FPGA MAFIA<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/amichai-bd/fpga_mafia_wiki" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub - FPGA MAFIA WIKI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 MAFIA Project</div></div></div></footer></div>
<script src="/fpga_mafia_wiki/assets/js/runtime~main.1492fb77.js"></script>
<script src="/fpga_mafia_wiki/assets/js/main.c1821f06.js"></script>
</body>
</html>